{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","services/images-api.js","components/Container/Container.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","axios","defaults","baseURL","searchQuery","currentPage","pageSize","get","then","data","hits","Container","children","className","styles","container","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","Item","src","alt","Image","ImageGallery","map","id","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","alert","SearchForm","this","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","Button","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","Overlay","App","isLoading","error","showModal","onChangeQuery","fetchImages","options","imagesApi","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","message","finally","onModal","toggleModal","prevProps","shouldRenderLoadMoreButton","length","color","height","width","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2efece00.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__2IeOB\",\"Image\":\"ImageGalleryItem_Image__qFavx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Re83\",\"Modal\":\"Modal_Modal__17eEw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RoQm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1_CmL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__pdD2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"App_Loader__qdYGm\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst API_KEY = '21858854-4e72a628a4c4c72c060e1a9f9';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(`/?key=${API_KEY}&q=${searchQuery}\r\n    &page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then(({data}) => data.hits);\r\n};\r\n\r\nexport default { fetchImages };","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) =>\r\n  <div className={styles.container}>{children}\r\n  </div>;\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, onClick }) => (\r\n  <li className={styles.Item}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={tags}\r\n      className={styles.Image}\r\n      onClick={() => onClick({ largeImageURL, tags })} />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ hits, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {hits.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem key={id} tags={tags} webformatURL={webformatURL} largeImageURL={largeImageURL} onClick={onClick} />\r\n      ))}\r\n    </ul >\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  }\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleChange = e => {\r\n  this.setState({ query: e.currentTarget.value})\r\n  }\r\n  \r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.query.trim() === '') {\r\n      alert('Enter a value to search.');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: ''})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n        <button type=\"submit\" className={styles.button}>\r\n          <span className={styles.label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.input}\r\n          value={this.state.query}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={this.handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({onClick}) => (\r\n  <button\r\n    type=\"button\"\r\n    className={styles.Button}\r\n    onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        this.props.onClose();\r\n      }\r\n  }\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  \r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import { Component } from 'react';\nimport Loader from \"react-loader-spinner\";\nimport imagesApi from './services/images-api';\nimport Container from './components/Container';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nimport styles from './App.module.css';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    tags: '',\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1, hits: [], error: null });\n  }\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesApi.fetchImages(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({error: error.message}))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onModal = ({ largeImageURL, tags }) => {\n    this.setState({\n      largeImageURL: largeImageURL,\n      tags: tags,\n    });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { hits, isLoading, error, showModal, largeImageURL, tags } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n    return (\n      <Container>\n        \n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery hits={hits} onClick={this.onModal}/>\n\n        {error && <h1>Try again!</h1>}\n          \n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n\n        {isLoading &&\n          <Loader\n            type=\"BallTriangle\"\n            color=\"#00BFFF\"\n            height={200}\n            width={200}\n            className={styles.Loader}\n          />}\n        \n        {showModal && (<Modal onClose={this.toggleModal}>\n           <img src={largeImageURL} alt={tags} />\n        </Modal>\n        )}\n\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__8ao9E\",\"SearchForm\":\"Searchbar_SearchForm__2ACuF\",\"button\":\"Searchbar_button__31ABk\",\"label\":\"Searchbar_label__OvGDw\",\"input\":\"Searchbar_input__2powU\"};"],"sourceRoot":""}
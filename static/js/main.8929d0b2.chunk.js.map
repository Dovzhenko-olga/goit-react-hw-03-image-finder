{"version":3,"sources":["App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","services/images-api.js","components/Container/Container.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","api","fetchImages","searchQuery","currentPage","pageSize","get","then","data","hits","Container","children","className","styles","container","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","Item","src","alt","Image","ImageGallery","map","id","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","toast","toaster","props","onSubmit","SearchForm","this","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","Button","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","Overlay","App","isLoading","showModal","onChangeQuery","error","options","imagesApi","length","info","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","onModal","toggleModal","prevProps","shouldRenderLoadMoreButton","color","height","width","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8929d0b2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"App_Loader__qdYGm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__2IeOB\",\"Image\":\"ImageGalleryItem_Image__qFavx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Re83\",\"Modal\":\"Modal_Modal__17eEw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RoQm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1_CmL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__pdD2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__8ao9E\",\"SearchForm\":\"Searchbar_SearchForm__2ACuF\",\"button\":\"Searchbar_button__31ABk\",\"label\":\"Searchbar_label__OvGDw\",\"input\":\"Searchbar_input__2powU\",\"toaster\":\"Searchbar_toaster__3z4Y9\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst API_KEY = '21858854-4e72a628a4c4c72c060e1a9f9';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(`/?key=${API_KEY}&q=${searchQuery}\r\n    &page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then(({data}) => data.hits);\r\n};\r\n\r\nconst api = {\r\n  fetchImages,\r\n}\r\n\r\nexport default api;","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) =>\r\n  <div className={styles.container}>{children}\r\n  </div>;\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, onClick }) => (\r\n  <li className={styles.Item}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={tags}\r\n      className={styles.Image}\r\n      onClick={() => onClick({ largeImageURL, tags })} />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ hits, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {hits.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem key={id} tags={tags} webformatURL={webformatURL} largeImageURL={largeImageURL} onClick={onClick} />\r\n      ))}\r\n    </ul >\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  }\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleChange = e => {\r\n  this.setState({ query: e.currentTarget.value})\r\n  }\r\n  \r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.query.trim() === '') {\r\n      return toast('Enter a value to search.', {\r\n        className: styles.toaster\r\n      });\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: ''})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n        <button type=\"submit\" className={styles.button}>\r\n          <span className={styles.label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.input}\r\n          value={this.state.query}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={this.handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({onClick}) => (\r\n  <button\r\n    type=\"button\"\r\n    className={styles.Button}\r\n    onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        this.props.onClose();\r\n      }\r\n  }\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  \r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Loader from \"react-loader-spinner\";\nimport imagesApi from './services/images-api';\nimport Container from './components/Container';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nimport styles from './App.module.css';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    showModal: false,\n    largeImageURL: '',\n    tags: '',\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1, hits: [], error: null });\n  }\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesApi.fetchImages(options)\n      .then(hits => {\n        if(hits.length === 0) {\n          toast.info('Try again!', {\n          className: styles.toaster\n          })}\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(() => {toast.info('Try again!', {\n        className: styles.toaster\n      })})\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n    onModal = ({ largeImageURL, tags }) => {\n    this.setState({\n      largeImageURL: largeImageURL,\n      tags: tags,\n    });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { hits, isLoading, showModal, largeImageURL, tags } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n    return (\n      <Container>\n        \n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery hits={hits} onClick={this.onModal}/>\n          \n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n\n        {isLoading &&\n          <Loader\n            type=\"BallTriangle\"\n            color=\"#00BFFF\"\n            height={200}\n            width={200}\n            className={styles.Loader}\n          />}\n        \n        {showModal && (<Modal onClose={this.toggleModal}>\n           <img src={largeImageURL} alt={tags} />\n        </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}